CREATE TABLE IF NOT EXISTS ITEMS (
        id BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
        name varchar(40) NOT NULL,
        description varchar(200) NOT NULL,
        available boolean,
        owner_id BIGINT,
        request_id BIGINT
);

CREATE TABLE IF NOT EXISTS USERS (
        user_id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        user_name varchar(30) NOT NULL,
		email varchar(70) NOT NULL,
		UNIQUE(email)
);

CREATE TABLE IF NOT EXISTS ITEMREQUESTS (
        id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        description varchar(200) NOT NULL,
        author_id BIGINT NOT NULL,
        created_date TIMESTAMP WITHOUT TIME ZONE NOT NULL
);

CREATE TABLE IF NOT EXISTS COMMENTS (
        id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        text varchar(200) NOT NULL,
		author_id BIGINT NOT NULL,
		item_id BIGINT NOT NULL,
		created_date TIMESTAMP WITHOUT TIME ZONE NOT NULL
);

CREATE TABLE IF NOT EXISTS BOOKINGS (
        id BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
        start_date TIMESTAMP WITHOUT TIME ZONE NOT NULL,
        end_date TIMESTAMP WITHOUT TIME ZONE NOT NULL,
        item_id BIGINT,
        booker_id BIGINT,
        status varchar(30)
);

--ALTER TABLE USERS ADD CONSTRAINT IF NOT EXISTS unique_email UNIQUE(email);

